:root {
  --bg: #0b0f14;
  --panel: #111826;
  --panel-2: #0f1624;
  --text: #e6edf3;
  --muted: #9aa6b2;
  --accent: #7dd3fc;
  --danger: #f87171;
  --ok: #34d399;
  --cell-border: #1f2a3a;
  --cell-hover: #1b2433;
  --given: #374151;
  --highlight: #0ea5e9;
}
/* …resto del CSS… (asegúrate de cerrar cualquier @media con }) */
.brand h1 {
    font-size: 20px;
    margin: 0;
    letter-spacing: 0.5px;
    color: var(--text);
  }


  .panel {
    background: linear-gradient(180deg, var(--panel) 0%, var(--panel-2) 100%);
    border: 1px solid #1b2636;
    border-radius: 16px;
    padding: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
  }


  .controls {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-items: center;
  }

  .select, .btn, .input {
    background: #0e1524;
    color: var(--text);
    border: 1px solid #1f2a3a;
    border-radius: 10px;
    padding: 10px 12px;
  }

  .btn {
    cursor: pointer;
    transition: transform .08s ease, background .2s;
  }

    .btn:hover {
      background: #0b1220;
      transform: translateY(-1px);
    }

    .btn.primary {
      border-color: var(--highlight);
      box-shadow: 0 0 0 1px inset var(--highlight);
    }

    .btn.danger {
      border-color: var(--danger);
      box-shadow: 0 0 0 1px inset var(--danger);
    }

    .btn.ok {
      border-color: var(--ok);
      box-shadow: 0 0 0 1px inset var(--ok);
    }


  .grid-wrap {
    display: flex;
    gap: 16px;
    align-items: flex-start;
    flex-wrap: wrap;
  }
  /* --- Sudoku grid responsive --- */
  .sudoku {
    display: grid;
    user-select: none;
    width: 100%;
    max-width: 100%;
  }
    /* Responsive widths por tamaño */
    .sudoku.small {
      grid-template-columns: repeat(4, 1fr);
      width: clamp(200px, 90vw, 320px);
    }

    .sudoku.medium {
      grid-template-columns: repeat(6, 1fr);
      width: clamp(240px, 92vw, 420px);
    }

    .sudoku.large {
      grid-template-columns: repeat(9, 1fr);
      width: clamp(280px, 94vw, 540px);
    }


  .cell {
    position: relative;
    width: 100%;
    aspect-ratio: 1 / 1;
    display: grid;
    place-items: center;
    font-weight: 600;
    font-size: clamp(14px, 2.8vw, 24px);
    border: 1px solid var(--cell-border);
    background: #0a1220;
    color: var(--text);
  }

    .cell:hover {
      background: var(--cell-hover);
    }

    .cell.given {
      background: #0d1422;
      color: #c8d1db;
    }

    .cell.invalid {
      outline: 2px solid var(--danger);
    }

    .cell.highlight {
      background: #0b1a2e;
      box-shadow: inset 0 0 0 2px #0a3d5e;
    }

    .cell input {
      width: 100%;
      height: 100%;
      text-align: center;
      background: transparent;
      color: inherit;
      border: none;
      outline: none;
      font: inherit;
    }
  /* 9x9 sub-bloques 3x3 */
  .block-border-9x9 .cell:nth-child(3n) {
    border-right: 2px solid #2a3a52;
  }

  .block-border-9x9 .cell:nth-child(n+19):nth-child(-n+27) {
    border-bottom: 2px solid #2a3a52;
  }

  .block-border-9x9 .cell:nth-child(n+46):nth-child(-n+54) {
    border-bottom: 2px solid #2a3a52;
  }

  .block-border-9x9 .cell:nth-child(9n+1),
  .block-border-9x9 .cell:nth-child(9n+4),
  .block-border-9x9 .cell:nth-child(9n+7) {
    border-left: 2px solid #2a3a52;
  }
  /* 6x6 sub-bloques 2x3 */
  .block-border-6x6 .cell:nth-child(3n) {
    border-right: 2px solid #2a3a52;
  }

  .block-border-6x6 .cell:nth-child(n+13):nth-child(-n+18) {
    border-bottom: 2px solid #2a3a52;
  }

  .block-border-6x6 .cell:nth-child(n+25):nth-child(-n+30) {
    border-bottom: 2px solid #2a3a52;
  }

  .block-border-6x6 .cell:nth-child(6n+1),
  .block-border-6x6 .cell:nth-child(6n+3),
  .block-border-6x6 .cell:nth-child(6n+5) {
    border-left: 2px solid #2a3a52;
  }
  /* 4x4 sub-bloques 2x2 */
  .block-border-4x4 .cell:nth-child(2n) {
    border-right: 2px solid #2a3a52;
  }

  .block-border-4x4 .cell:nth-child(n+5):nth-child(-n+8) {
    border-bottom: 2px solid #2a3a52;
  }

  .block-border-4x4 .cell:nth-child(4n+1),
  .block-border-4x4 .cell:nth-child(4n+3) {
    border-left: 2px solid #2a3a52;
  }


  .legend {
    font-size: 12px;
    color: var(--muted);
  }
  /* Mobile tweaks */
  @media (max-width: 600px) {
    .container {
      padding: 16px;
    }

    .panel {
      border-radius: 12px;
      padding: 12px;
    }
  }
